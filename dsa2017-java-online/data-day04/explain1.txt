before: [9, 10, 11, 8, 12, 5]
after: [5, 8, 9, 10, 11, 12]

L(5)=5
[5, 10, 11, 8, 12, 9]
L(3)=8
[5, 8, 11, 10, 12, 9]
L(5)=9
[5, 8, 9, 10, 12, 11]
L(3)=10
[5, 8, 9, 10, 12, 11]
L(5)=11
[5, 8, 9, 10, 11, 12]

never see L(x) = 12
You don't have to search for the last / biggest one

